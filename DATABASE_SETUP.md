# ğŸ—„ï¸ æ•°æ®åº“é…ç½®æŒ‡å—

## ğŸ“‹ **æ•°æ®åº“è¿æ¥ä¿¡æ¯**

é¡¹ç›®ä½¿ç”¨é˜¿é‡Œäº‘RDS MySQLæ•°æ®åº“ï¼ŒåŒ…å«å¤šä¸ªä¸šåŠ¡æ•°æ®åº“ï¼š

### **è¿æ¥å‚æ•°**
```bash
ä¸»æœº: guishumu999666.rwlb.rds.aliyuncs.com
ç”¨æˆ·å: xitongquanju
å¯†ç : b4FFS6kVGKV4jV
ç«¯å£: 3306
```

### **æ•°æ®åº“åˆ—è¡¨**
- **`sm_xitongkaifa`** - ä¸»æ•°æ®åº“ï¼ˆç”¨æˆ·ç®¡ç†ã€æƒé™ã€æ¨¡æ¿ç­‰ï¼‰
- **`sm_chaigou`** - é‡‡è´­æ•°æ®åº“ï¼ˆä¾›åº”å•†ä¿¡æ¯ï¼‰
- **å…¶ä»–ä¸šåŠ¡æ•°æ®åº“** - æ ¹æ®éœ€è¦åŠ¨æ€åˆ›å»º

## ğŸš€ **æ–°è®¾å¤‡å¿«é€Ÿé…ç½®**

### **æ­¥éª¤1ï¼šåˆ›å»ºç¯å¢ƒå˜é‡æ–‡ä»¶**
```bash
# è¿›å…¥åç«¯ç›®å½•
cd server

# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼ˆå¯é€‰ï¼Œé»˜è®¤é…ç½®å·²å¯ç”¨ï¼‰
# nano .env æˆ– code .env
```

### **æ­¥éª¤2ï¼šå®‰è£…ä¾èµ–å¹¶ç”ŸæˆPrismaå®¢æˆ·ç«¯**
```bash
# å®‰è£…ä¾èµ–
npm install

# ç”ŸæˆPrismaå®¢æˆ·ç«¯
npx prisma generate

# å¯é€‰ï¼šæŸ¥çœ‹æ•°æ®åº“ç»“æ„
npx prisma studio
```

### **æ­¥éª¤3ï¼šéªŒè¯æ•°æ®åº“è¿æ¥**
```bash
# å¯åŠ¨åç«¯æœåŠ¡
npm start

# æˆ–å¼€å‘æ¨¡å¼
npm run start:dev
```

## ğŸ”§ **ç¯å¢ƒå˜é‡è¯´æ˜**

### **å¿…éœ€é…ç½®**
```env
# Prismaæ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²
DATABASE_URL="mysql://xitongquanju:b4FFS6kVGKV4jV@guishumu999666.rwlb.rds.aliyuncs.com:3306/sm_xitongkaifa"

# ç‹¬ç«‹æ•°æ®åº“è¿æ¥å‚æ•°ï¼ˆç”¨äºç›´æ¥MySQLè¿æ¥ï¼‰
DB_HOST=guishumu999666.rwlb.rds.aliyuncs.com
DB_USER=xitongquanju
DB_PASSWORD=b4FFS6kVGKV4jV
DB_PORT=3306
```

### **å¯é€‰é…ç½®**
```env
# JWTå¯†é’¥ï¼ˆç”Ÿäº§ç¯å¢ƒå¿…é¡»ä¿®æ”¹ï¼‰
JWT_SECRET=your-jwt-secret-key-here

# æœåŠ¡ç«¯å£
PORT=4000

# è¿è¡Œç¯å¢ƒ
NODE_ENV=development
```

## ğŸ“Š **æ•°æ®åº“æ¶æ„**

### **ä¸»è¦è¡¨ç»“æ„**
- **`sys_users`** - ç³»ç»Ÿç”¨æˆ·
- **`sys_roles`** - ç”¨æˆ·è§’è‰²
- **`sys_permissions`** - æƒé™å®šä¹‰
- **`sys_user_roles`** - ç”¨æˆ·è§’è‰²å…³è”
- **`sys_role_permissions`** - è§’è‰²æƒé™å…³è”
- **`label_templates`** - æ ‡ç­¾æ¨¡æ¿

### **ä¸šåŠ¡è¡¨**
- **ä¾›åº”å•†ç®¡ç†** (sm_chaigouæ•°æ®åº“)
- **å•†å“æ•°æ®** (åŠ¨æ€æ•°æ®åº“)
- **æ ‡ç­¾æ•°æ®** (åŠ¨æ€æ•°æ®åº“)

## ğŸ› ï¸ **å¸¸ç”¨æ•°æ®åº“æ“ä½œ**

### **æŸ¥çœ‹æ•°æ®åº“çŠ¶æ€**
```bash
# ä½¿ç”¨Prisma Studioï¼ˆå›¾å½¢ç•Œé¢ï¼‰
npx prisma studio

# ç›´æ¥è¿æ¥æ•°æ®åº“
mysql -h guishumu999666.rwlb.rds.aliyuncs.com -u xitongquanju -p
```

### **é‡ç½®Prismaå®¢æˆ·ç«¯**
```bash
# åˆ é™¤ç”Ÿæˆçš„å®¢æˆ·ç«¯
rm -rf node_modules/.prisma

# é‡æ–°ç”Ÿæˆ
npx prisma generate
```

### **æ•°æ®åº“è¿ç§»**
```bash
# å¦‚æœæœ‰schemaå˜æ›´
npx prisma db push

# æˆ–åˆ›å»ºè¿ç§»æ–‡ä»¶
npx prisma migrate dev --name migration_name
```

## âš ï¸ **æ³¨æ„äº‹é¡¹**

1. **ç”Ÿäº§ç¯å¢ƒ**ï¼šè¯·ä¿®æ”¹JWT_SECRETä¸ºå¼ºå¯†ç 
2. **ç½‘ç»œå®‰å…¨**ï¼šç¡®ä¿æ•°æ®åº“è®¿é—®åœ¨å®‰å…¨ç½‘ç»œç¯å¢ƒä¸‹
3. **å¤‡ä»½ç­–ç•¥**ï¼šé‡è¦æ•°æ®è¯·å®šæœŸå¤‡ä»½
4. **è¿æ¥æ± **ï¼šé«˜å¹¶å‘åœºæ™¯ä¸‹æ³¨æ„è¿æ¥æ± é…ç½®

## ğŸ” **æ•…éšœæ’é™¤**

### **è¿æ¥å¤±è´¥**
```bash
# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping guishumu999666.rwlb.rds.aliyuncs.com

# æ£€æŸ¥ç«¯å£
telnet guishumu999666.rwlb.rds.aliyuncs.com 3306
```

### **Prismaé”™è¯¯**
```bash
# æ¸…é™¤ç¼“å­˜é‡æ–°ç”Ÿæˆ
rm -rf node_modules/.prisma
npm install
npx prisma generate
```

### **æƒé™é”™è¯¯**
- ç¡®è®¤ç”¨æˆ·åå¯†ç æ­£ç¡®
- æ£€æŸ¥æ•°æ®åº“ç”¨æˆ·æƒé™
- éªŒè¯IPç™½åå•è®¾ç½®

## ğŸ“± **å¤šè®¾å¤‡åŒæ­¥**

æ–°è®¾å¤‡é…ç½®å®Œæˆåï¼Œæ‰€æœ‰æ•°æ®åº“æ“ä½œå°†è‡ªåŠ¨åŒæ­¥ï¼š
- âœ… ç”¨æˆ·è®¤è¯ä¿¡æ¯
- âœ… æƒé™é…ç½®
- âœ… æ ‡ç­¾æ¨¡æ¿
- âœ… ä¸šåŠ¡æ•°æ®

é…ç½®ä¸€æ¬¡ï¼Œå…¨è®¾å¤‡å¯ç”¨ï¼ğŸ‰
